export BROWSER=firefox
export EDITOR=nvim
export PAGER=less

# -R: Allow ANSI escape codes by default. Needed for $RI below.
# -F: Automagically exit if the file fits on one screen.
# -X: Disables sending the termcap initialization and deinitialization strings
#     to the terminal, so as to avoid the crap where it clears the screen.
export LESS="-RFX"

# Use system-wide libvirt server.
export LIBVIRT_DEFAULT_URI="qemu:///system"

# Have `woodpecker-cli` use the per-user podman socket.
# If it doesn't exist, try: systemctl --user enable --now podman.socket
export WOODPECKER_BACKEND_DOCKER_HOST="unix:///run/user/$UID/podman/podman.sock"

[[ "$TERM" == *color* ]] && export COLORTERM=true

# Add ~/bin, ~/.local/bin, and flatpak exports to $PATH.
export PATH="$HOME/bin:$HOME/.local/bin:$PATH:/var/lib/flatpak/exports/bin"

if [ -f "$HOME/.cargo/env" ]; then
    source ~/.cargo/env
elif [ $(command -v cargo) ]; then
    export PATH="$HOME/.cargo/bin:$PATH"
fi

#[ -f "/usr/local/share/chruby/chruby.sh" ] && source /usr/local/share/chruby/chruby.sh
#[ -f "$HOME/software/chruby/share/chruby/chruby.sh" ] && source "$HOME/software/chruby/share/chruby/chruby.sh"

[ -f "$HOME/.bash_env.local" ] && source ~/.bash_env.local

command -v rv >/dev/null && eval "$(rv shell init bash)"

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
