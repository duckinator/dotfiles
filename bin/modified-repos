#!/usr/bin/env python3

from pathlib import Path
from subprocess import run, PIPE

repos = map(lambda p: p.parent, Path.cwd().glob('**/.git'))

for repo in repos:
    status = run(["git", "status", "-s"], check=True, cwd=repo,
                 stdout=PIPE, stderr=PIPE)
    if len(status.stdout) > 0 or len(status.stderr) > 0:
        print(str(repo))
