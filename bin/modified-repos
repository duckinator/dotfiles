#!/usr/bin/env python3

import os
from pathlib import Path
from subprocess import run, PIPE

repos = map(lambda p: p.parent, Path.cwd().glob('**/.git'))

for repo in repos:
    os.chdir(repo)
    status = run(["git", "status", "-s"], check=True, stdout=PIPE, stderr=PIPE)
    if len(status.stdout) > 0 or len(status.stderr) > 0:
        print(str(repo))
