#!/usr/bin/env python3

from pathlib import Path
from subprocess import run, PIPE

for git_dir in Path.cwd().glob('**/.git'):
    repo = git_dir.parent
    status = run(["git", "status", "-s"], cwd=repo, stdout=PIPE, stderr=PIPE)
    if status.stdout or status.stderr or status.returncode != 0:
        print(str(repo))
