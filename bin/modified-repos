#!/usr/bin/env python3

import os
from pathlib import Path
import subprocess

repos = map(lambda p: p.parent, Path.cwd().glob('**/.git'))

for repo in repos:
    os.chdir(repo)
    status = subprocess.run(["git", "status", "-s"],
                            stdout=subprocess.PIPE,
                            stderr=subprocess.PIPE)
    if len(status.stdout) > 0 or len(status.stderr) > 0:
        print(str(repo))
